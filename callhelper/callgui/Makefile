#############################################################################
# Makefile for building callgui
# Generated by tmake at 15:09, 2010/02/09
#     Project: callgui
#    Template: app
#############################################################################

####### Compiler, tools and options

CC	=	arm_v6_vfp_le-gcc
CXX	=	arm_v6_vfp_le-g++
CFLAGS	=	-pipe -Wall -W -O3 -DNO_DEBUG
CXXFLAGS=	-pipe -DQWS -fno-exceptions -fno-rtti -Wall -W -O3 -DNO_DEBUG
INCPATH	=	-I$(QTDIR)/include
LINK	=	arm_v6_vfp_le-gcc
LFLAGS	=	
LIBS	=	$(SUBLIBS) -L$(QTDIR)/lib -lm -lqte-mt -lezxappbase -ldmnative -les_qtwrapper -les_pub_sub -lz -ljpeg -lsqlite3 -lezxam -lezxpm -llm -lmedl -lihal -laplog -lezxflex -lvkm -lezxtapi -lconfigmanager -lnapi
MOC	=	$(QTDIR)/bin/moc
UIC	=	$(QTDIR)/bin/uic

TAR	=	tar -cf
GZIP	=	gzip -9f

####### Files

HEADERS =	callgui.h \
		code.h \
		db.h \
		setup.h \
		sqlite3.h
SOURCES =	callgui.cpp \
		code.cpp \
		db.cpp \
		main.cpp \
		setup.cpp
OBJECTS =	callgui.o \
		code.o \
		db.o \
		main.o \
		setup.o
INTERFACES =	
UICDECLS =	
UICIMPLS =	
SRCMOC	=	moc_callgui.cpp \
		moc_setup.cpp
OBJMOC	=	moc_callgui.o \
		moc_setup.o
DIST	=	
TARGET	=	callgui
INTERFACE_DECL_PATH = .

####### Implicit rules

.SUFFIXES: .cpp .cxx .cc .C .c

.cpp.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.cxx.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.cc.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.C.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.c.o:
	$(CC) -c $(CFLAGS) $(INCPATH) -o $@ $<

####### Build rules


all: $(TARGET)

$(TARGET): $(UICDECLS) $(OBJECTS) $(OBJMOC) 
	$(LINK) $(LFLAGS) -o $(TARGET) $(OBJECTS) $(OBJMOC) $(LIBS)

moc: $(SRCMOC)

tmake: Makefile

Makefile: callgui.pro
	tmake callgui.pro -o Makefile

dist:
	$(TAR) callgui.tar callgui.pro $(SOURCES) $(HEADERS) $(INTERFACES) $(DIST)
	$(GZIP) callgui.tar

clean:
	-rm -f $(OBJECTS) $(OBJMOC) $(SRCMOC) $(UICIMPLS) $(UICDECLS) $(TARGET)
	-rm -f *~ core

####### Sub-libraries


###### Combined headers


####### Compile

callgui.o: callgui.cpp \
		callgui.h \
		setup.h \
		code.h

code.o: code.cpp \
		code.h

db.o: db.cpp \
		db.h \
		sqlite3.h \
		code.h

main.o: main.cpp \
		callgui.h \
		setup.h

setup.o: setup.cpp \
		setup.h \
		code.h \
		db.h \
		sqlite3.h

moc_callgui.o: moc_callgui.cpp \
		callgui.h \
		setup.h

moc_setup.o: moc_setup.cpp \
		setup.h

moc_callgui.cpp: callgui.h
	$(MOC) callgui.h -o moc_callgui.cpp

moc_setup.cpp: setup.h
	$(MOC) setup.h -o moc_setup.cpp

